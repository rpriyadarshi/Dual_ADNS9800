(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[         0,          0]
NotebookDataLength[     11369,        252]
NotebookOptionsPosition[     10803,        227]
NotebookOutlinePosition[     11156,        243]
CellTagsIndexPosition[     11113,        240]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"dev", "=", 
  RowBox[{"DeviceOpen", "[", 
   RowBox[{"\"\<Serial\>\"", ",", 
    RowBox[{"{", 
     RowBox[{"\"\</dev/cu.usbserial-A6024DPX\>\"", ",", 
      RowBox[{"\"\<BaudRate\>\"", "\[Rule]", "115200"}]}], "}"}]}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.617677556854624*^9, 3.617677558286501*^9}, {
  3.617677642842619*^9, 3.6176776574351397`*^9}, {3.6178530196434107`*^9, 
  3.617853030777581*^9}, {3.6179194513762197`*^9, 3.617919453293888*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"data4", "=", 
   RowBox[{"{", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"data5", "=", 
   RowBox[{"{", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"datam", "=", 
   RowBox[{"{", "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.617836846324233*^9, 3.617836863792412*^9}, {
   3.617837378007373*^9, 3.6178373799179363`*^9}, {3.617839513528846*^9, 
   3.617839514027254*^9}, {3.617839847776031*^9, 3.6178398492424917`*^9}, {
   3.617840050094598*^9, 3.6178400538448133`*^9}, {3.617921126556796*^9, 
   3.617921128376745*^9}, {3.6181040412519503`*^9, 3.618104062729374*^9}, 
   3.618104545694487*^9, {3.618104865316511*^9, 3.6181048664428473`*^9}, {
   3.618108582118619*^9, 3.61810860225264*^9}, {3.618108931294087*^9, 
   3.61810893172974*^9}, {3.618109044705361*^9, 3.618109049614974*^9}, 
   3.618109303150827*^9, {3.618109421852906*^9, 3.6181094350995607`*^9}, 
   3.618109467608952*^9, {3.618111174926978*^9, 3.61811119131993*^9}, 
   3.618111273437104*^9, {3.618191786895433*^9, 3.618191794237872*^9}, {
   3.61819183257967*^9, 3.618191870810421*^9}, {3.618191926332111*^9, 
   3.618191930345772*^9}, {3.618192570487659*^9, 3.618192578158643*^9}, {
   3.6182746646175537`*^9, 3.618274680988748*^9}}],

Cell[BoxData[
 RowBox[{"task", "=", 
  RowBox[{"RunScheduledTask", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"DeviceExecute", "[", 
       RowBox[{"dev", ",", "\"\<SerialReadyQ\>\""}], "]"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"csv", ",", "sen4", ",", " ", "sen5", ",", "mean"}], "}"}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"csv", "=", 
          RowBox[{"ImportString", "[", 
           RowBox[{
            RowBox[{"FromCharacterCode", "[", 
             RowBox[{"DeviceReadBuffer", "[", "dev", "]"}], "]"}], ",", 
            "\"\<CSV\>\""}], "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"sen4", "=", 
          RowBox[{"Cases", "[", 
           RowBox[{"csv", ",", 
            RowBox[{"{", 
             RowBox[{
             "\"\<@D\>\"", ",", "4", ",", "_Integer", ",", "_Integer", ",", 
              "_Integer", ",", "_Integer"}], "}"}]}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"sen5", "=", 
          RowBox[{"Cases", "[", 
           RowBox[{"csv", ",", 
            RowBox[{"{", 
             RowBox[{
             "\"\<@D\>\"", ",", "5", ",", "_Integer", ",", "_Integer", ",", 
              "_Integer", ",", "_Integer"}], "}"}]}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"mean", "=", 
          RowBox[{"Cases", "[", 
           RowBox[{"csv", ",", 
            RowBox[{"{", 
             RowBox[{
             "\"\<@M\>\"", ",", "_Integer", ",", "_Integer", ",", 
              "_Integer"}], "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"data4", "=", 
          RowBox[{"Join", "[", 
           RowBox[{"data4", ",", 
            RowBox[{"sen4", "[", 
             RowBox[{"[", 
              RowBox[{"All", ",", 
               RowBox[{"{", 
                RowBox[{"4", ",", "5", ",", "6"}], "}"}]}], "]"}], "]"}]}], 
           "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"data5", "=", 
          RowBox[{"Join", "[", 
           RowBox[{"data5", ",", 
            RowBox[{"sen5", "[", 
             RowBox[{"[", 
              RowBox[{"All", ",", 
               RowBox[{"{", 
                RowBox[{"4", ",", "5", ",", "6"}], "}"}]}], "]"}], "]"}]}], 
           "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"datam", "=", 
          RowBox[{"Join", "[", 
           RowBox[{"datam", ",", 
            RowBox[{"mean", "[", 
             RowBox[{"[", 
              RowBox[{"All", ",", 
               RowBox[{"{", 
                RowBox[{"2", ",", "3", ",", "4"}], "}"}]}], "]"}], "]"}]}], 
           "]"}]}], ";"}]}], "\[IndentingNewLine]", "]"}]}], "]"}], ",", 
    "\[IndentingNewLine]", "0.1"}], "\[IndentingNewLine]", "]"}]}]], "Input",
 CellChangeTimes->{{3.617677697889103*^9, 3.617677708113969*^9}, {
   3.6176809937777243`*^9, 3.617680997763239*^9}, {3.617681086546021*^9, 
   3.617681091341304*^9}, {3.617681222005712*^9, 3.617681302408601*^9}, {
   3.617681546423579*^9, 3.6176815470847683`*^9}, {3.61768167910553*^9, 
   3.6176816896011457`*^9}, 3.6176818815073566`*^9, {3.617761978424268*^9, 
   3.617761979297904*^9}, {3.617762759042883*^9, 3.61776277978194*^9}, {
   3.617832224174101*^9, 3.617832230772862*^9}, {3.6178323295129423`*^9, 
   3.61783235085465*^9}, {3.617832420207799*^9, 3.617832457520049*^9}, {
   3.617833016727536*^9, 3.617833021106551*^9}, {3.6178330938699293`*^9, 
   3.617833096762701*^9}, {3.6178331577156467`*^9, 3.61783316787644*^9}, {
   3.6178332904031687`*^9, 3.617833332804121*^9}, {3.6178333891188307`*^9, 
   3.617833391845963*^9}, {3.617833455267624*^9, 3.617833474058146*^9}, {
   3.617833597700152*^9, 3.6178336034825907`*^9}, {3.617833750867937*^9, 
   3.617833755296163*^9}, {3.6178338090137463`*^9, 3.617833825671012*^9}, {
   3.6178338659532146`*^9, 3.617833883539339*^9}, {3.6178339477381268`*^9, 
   3.617833948264227*^9}, {3.6178341973439198`*^9, 3.6178341999469*^9}, 
   3.61783424724662*^9, {3.6178342952202044`*^9, 3.617834298244548*^9}, {
   3.6178368681207952`*^9, 3.6178368983930693`*^9}, {3.6178369431184187`*^9, 
   3.6178370081901903`*^9}, 3.61783721295682*^9, {3.6178378973028717`*^9, 
   3.6178379004092817`*^9}, {3.617837953297668*^9, 3.6178379578488483`*^9}, {
   3.617838333365302*^9, 3.617838392887929*^9}, {3.617838429614868*^9, 
   3.617838520650907*^9}, 3.617839085405611*^9, {3.617839216488044*^9, 
   3.617839220489305*^9}, {3.617839594032155*^9, 3.617839594665414*^9}, {
   3.617839684970701*^9, 3.617839689513585*^9}, {3.617839745348772*^9, 
   3.617839749110303*^9}, {3.617839890194667*^9, 3.617839894706444*^9}, {
   3.617839941727412*^9, 3.61783994217666*^9}, {3.617842580226922*^9, 
   3.617842586352873*^9}, {3.6178426472060204`*^9, 3.617842657384056*^9}, {
   3.6178427559928293`*^9, 3.617842767614146*^9}, {3.617851933619116*^9, 
   3.6178519579572697`*^9}, {3.617920036530332*^9, 3.6179201060015297`*^9}, {
   3.617920283268303*^9, 3.6179202962447968`*^9}, {3.6179211469448957`*^9, 
   3.617921168258346*^9}, {3.6179213278072643`*^9, 3.617921335093542*^9}, {
   3.617921414690075*^9, 3.617921431729437*^9}, {3.6179223158081923`*^9, 
   3.617922316772112*^9}, {3.618103849394889*^9, 3.6181039476210117`*^9}, {
   3.618104082732482*^9, 3.618104089929867*^9}, {3.618104540476418*^9, 
   3.618104540996992*^9}, {3.618104654778686*^9, 3.618104687681678*^9}, {
   3.618105435683588*^9, 3.618105441882992*^9}, {3.618105647953093*^9, 
   3.618105704718451*^9}, {3.618105783064692*^9, 3.6181058722510033`*^9}, {
   3.618108527144618*^9, 3.618108546863283*^9}, {3.618108608630831*^9, 
   3.6181086205006857`*^9}, {3.6181088496497803`*^9, 3.618108866359167*^9}, {
   3.61810892093185*^9, 3.618108927762154*^9}, {3.618108966788258*^9, 
   3.6181090574325542`*^9}, {3.61810909775842*^9, 3.618109099194017*^9}, {
   3.618109258271995*^9, 3.618109258662815*^9}, 3.618109308279833*^9, {
   3.618109385126395*^9, 3.618109460744051*^9}, {3.6181096507513723`*^9, 
   3.618109706810261*^9}, {3.6181097489238586`*^9, 3.6181097504681177`*^9}, {
   3.618109854267878*^9, 3.618109885892241*^9}, {3.6181109168672256`*^9, 
   3.6181109186726027`*^9}, {3.6181111957544518`*^9, 
   3.6181112262972927`*^9}, {3.61811126859547*^9, 3.618111294799074*^9}, 
   3.618182836366003*^9, {3.618191719909292*^9, 3.618191721974235*^9}, {
   3.618191799794506*^9, 3.618191808998693*^9}, {3.618191840427784*^9, 
   3.618191848065436*^9}, {3.618191882341373*^9, 3.6181919036109457`*^9}, {
   3.618191934037237*^9, 3.618192004354693*^9}, {3.618192058766436*^9, 
   3.618192060924736*^9}, {3.618192583898278*^9, 3.618192593111869*^9}, {
   3.6182745668495493`*^9, 3.618274597951779*^9}, {3.618274664622541*^9, 
   3.618274694912301*^9}}],

Cell[BoxData[
 RowBox[{"Dynamic", "[", 
  RowBox[{"ListPlot", "[", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"data4", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", 
        RowBox[{"{", 
         RowBox[{"1", ",", "2"}], "}"}]}], "]"}], "]"}], ",", 
     RowBox[{"data5", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", 
        RowBox[{"{", 
         RowBox[{"1", ",", "2"}], "}"}]}], "]"}], "]"}], ",", 
     RowBox[{"datam", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", 
        RowBox[{"{", 
         RowBox[{"1", ",", "2"}], "}"}]}], "]"}], "]"}]}], "}"}], "]"}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.618109765621203*^9, 3.61810978056927*^9}, {
   3.618109936086445*^9, 3.618109947494791*^9}, {3.618110357220978*^9, 
   3.618110400047187*^9}, {3.618110463183651*^9, 3.618110470613669*^9}, {
   3.6181112322777557`*^9, 3.618111241864563*^9}, {3.618111281858094*^9, 
   3.618111284407166*^9}, 3.618187065711986*^9, {3.618187536509293*^9, 
   3.618187564270677*^9}, 3.618189509743482*^9, {3.618190585085758*^9, 
   3.618190611062141*^9}, {3.618190687357994*^9, 3.618190694333209*^9}, {
   3.6181918128978777`*^9, 3.618191816125887*^9}, {3.618191850193336*^9, 
   3.618191852209786*^9}, {3.61819201183679*^9, 3.618192015490328*^9}, {
   3.618192595401946*^9, 3.618192597926875*^9}, {3.6182746306176662`*^9, 
   3.618274680981759*^9}}],

Cell[BoxData[
 RowBox[{"Dynamic", "[", 
  RowBox[{"ListPlot", "[", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"data4", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "3"}], "]"}], "]"}], ",", 
     RowBox[{"data5", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "3"}], "]"}], "]"}], ",", 
     RowBox[{"datam", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "3"}], "]"}], "]"}]}], "}"}], "]"}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.61827484807683*^9, 3.618274855683035*^9}}]
},
WindowSize->{808, 668},
WindowMargins->{{11, Automatic}, {Automatic, 0}},
FrontEndVersion->"10.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (June 27, \
2014)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[400, 13, 482, 10, 28, "Input"],
Cell[885, 25, 1272, 23, 63, "Input"],
Cell[2160, 50, 6773, 125, 233, "Input"],
Cell[8936, 177, 1362, 31, 28, "Input"],
Cell[10301, 210, 498, 15, 28, "Input"]
}
]
*)

